readerConfig:
  filereader:
    readerClass: com.cognitree.examples.tasks.scheduler.readers.FileTaskDefinitionReader
    config:
      source: /Users/ankitnanglia/workspace/cognitree/scheduler/examples/src/main/resources/task-definitions.yaml
    schedule: 0 0/1 * 1/1 * ? *

timeoutPolicyConfig:
  notifyOnTimeout:
    policyClass: com.cognitree.examples.tasks.scheduler.policies.NotifyOnTimeoutPolicy
    config:
      smtp.host: "smtp.gmail.com"
      smtp.port: 587
      sender.name:
      sender.email:
      sender.password:
      email.subject: "Task Timeout notification"
      recipient.name:
      recipient.email:

handlerConfig:
  default:
    handlerClass: com.cognitree.examples.tasks.executor.handlers.ConsoleLogger
    maxExecutionTime: 10m
    maxParallelTasks: 16
  shell:
    handlerClass: com.cognitree.tasks.executor.handlers.ShellCommandHandler
    maxExecutionTime: 10m
    timeoutPolicy: notifyOnTimeout
    maxParallelTasks: 4
  typeA:
    handlerClass: com.cognitree.examples.tasks.executor.handlers.FileLogger
    maxExecutionTime: 10m
    timeoutPolicy: notifyOnTimeout
    maxParallelTasks: 4

taskProducerConfig:
  producerClass: com.cognitree.tasks.queue.producer.KafkaTaskProducer
  config:
    producerConfig:
      bootstrap.servers : localhost:9092
      key.serializer : org.apache.kafka.common.serialization.StringSerializer
      value.serializer : org.apache.kafka.common.serialization.StringSerializer
taskConsumerConfig:
  consumerClass: com.cognitree.tasks.queue.consumer.KafkaTaskConsumer
  config:
    consumerConfig:
      bootstrap.servers : localhost:9092
      group.id: schedulerframework
      key.deserializer : org.apache.kafka.common.serialization.StringDeserializer
      value.deserializer : org.apache.kafka.common.serialization.StringDeserializer
    taskTopics: typeA, typeB, shell
    pollTimeout: 1s
    pollInterval: 2s

taskStatusProducerConfig:
  producerClass: com.cognitree.tasks.queue.producer.KafkaStatusProducer
  config:
    producerConfig:
      bootstrap.servers : localhost:9092
      key.serializer : org.apache.kafka.common.serialization.StringSerializer
      value.serializer : org.apache.kafka.common.serialization.StringSerializer
taskStatusConsumerConfig:
  consumerClass: com.cognitree.tasks.queue.consumer.KafkaStatusConsumer
  config:
    consumerConfig:
      bootstrap.servers : localhost:9092
      group.id: schedulerframework
      key.deserializer : org.apache.kafka.common.serialization.StringDeserializer
      value.deserializer : org.apache.kafka.common.serialization.StringDeserializer
    pollTimeout: 1s
    pollInterval: 2s

# Periodically, tasks older than the specified interval and
# status as one of the final state are purged from memory to prevent the system from going OOM.
# check ApplicationConfig.taskPurgeInterval for more details
taskPurgeInterval: 1d